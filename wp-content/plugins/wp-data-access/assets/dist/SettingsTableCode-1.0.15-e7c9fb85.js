import{d2 as X,l as S,j as o,r as h,bd as Y}from"./main-1.0.15.js";import{P as Z,b as q,a as J}from"./index-1.0.15-1f8b4ea0.js";import{u as Q,X as E,W as K,a as H,v as ee,az as oe,B as v,T as D,aA as te,$ as se,ao as ne,aB as ae,aC as re,aD as ie,M as le,Z as ce}from"./main-1.0.15-e2ad00f6.js";import{u as de}from"./TableContainer-1.0.15-0a988586.js";import{u as pe}from"./useTableUpdater-1.0.15-5d031e17.js";import{f as ue}from"./settings-1.0.15-3913c57c.js";import{P as me}from"./PremiumFeature-1.0.15-58839b47.js";import{e as xe,b as be}from"./index.esm-1.0.15-bb4db28d.js";import{A as W,a as _}from"./AccordionSummary-1.0.15-ad1892ca.js";import{B as ge}from"./useScreenSize-1.0.15-a1dd46fa.js";import{d as fe,_ as p,Y as j,r as U,s as F,u as Ce,a as Ie,c as Te,b as je,I as G}from"./iconBase-1.0.15-5866dbfd.js";import{P as ye}from"./Menu-1.0.15-3ae4ddd1.js";import{s as Pe}from"./FormControlLabel-1.0.15-2f48df6c.js";import{u as $,T as ve,a as he,t as we,b as Se,g as Re,S as Me}from"./TreeItem2Provider-1.0.15-ec13f5b1.js";import"./DialogContent-1.0.15-e50a43f8.js";import"./index.esm-1.0.15-f3c7e2e0.js";import"./Close-1.0.15-8d33e66c.js";import"./TextField-1.0.15-73384817.js";import"./MenuItem-1.0.15-cb0e11e9.js";import"./Radio-1.0.15-7d52029a.js";import"./Checkbox-1.0.15-19533231.js";import"./AlertTitle-1.0.15-cc3002eb.js";import"./useSlot-1.0.15-4f7bfdbc.js";import"./InputAdornment-1.0.15-4ec316af.js";import"./ListItemIcon-1.0.15-b73952ad.js";import"./DateTimePicker-1.0.15-b600d307.js";import"./useMobilePicker-1.0.15-5df19a3e.js";import"./Tabs-1.0.15-c2b715a3.js";import"./date-time-utils-1.0.15-31b6fdea.js";import"./dateViewRenderers-1.0.15-2bbfacab.js";import"./TimePicker-1.0.15-1545716b.js";import"./DatePicker-1.0.15-cd97ffeb.js";import"./ScopeEnum-1.0.15-32d3ffad.js";import"./ActionsDml-1.0.15-409ee4a6.js";import"./useStoreTable-1.0.15-ce8ace5b.js";import"./index.esm-1.0.15-3dc3cbe3.js";import"./index-1.0.15-3f6c5bf6.js";const Ae=["global"],Ee=["renderDetailPanel","customActionsTop","customActionsBottom"],Oe=["render"],Be=e=>{const s=Q(i=>X(i,e));return S.debug("tableColumns",s),s},Fe=({itemId:e,children:s})=>{const{instance:i,selection:{multiSelect:g}}=$(),c={expandable:!!(Array.isArray(s)?s.length:s),expanded:i.isItemExpanded(e),focused:i.isItemFocused(e),selected:i.isItemSelected(e),disabled:i.isItemDisabled(e)};return{interactions:{handleExpansion:l=>{if(c.disabled)return;c.focused||i.focusItem(l,e);const b=g&&(l.shiftKey||l.ctrlKey||l.metaKey);c.expandable&&!(b&&i.isItemExpanded(e))&&i.toggleItemExpansion(l,e)},handleSelection:l=>{if(c.disabled)return;c.focused||i.focusItem(l,e),g&&(l.shiftKey||l.ctrlKey||l.metaKey)?l.shiftKey?i.selectRange(l,{end:e}):i.selectItem(l,e,!0):i.selectItem(l,e)}},status:c}},Ke=e=>{const{runItemPlugins:s,selection:{multiSelect:i},disabledItemsFocusable:g,instance:c,publicAPI:T}=$(),{id:y,itemId:u,label:l,children:b,rootRef:f}=e,{rootRef:O,contentRef:R}=s(e),{interactions:A,status:C}=Fe({itemId:u,children:b}),B=c.getTreeItemId(u,y),d=fe(f,O),n=a=>t=>{var V;if((V=a.onFocus)==null||V.call(a,t),t.defaultMuiPrevented)return;const m=!C.disabled||g;!C.focused&&m&&t.currentTarget===t.target&&c.focusItem(t,u)},I=a=>t=>{var m;(m=a.onBlur)==null||m.call(a,t),!t.defaultMuiPrevented&&c.removeFocusedItem()},r=a=>t=>{var m;(m=a.onKeyDown)==null||m.call(a,t),!t.defaultMuiPrevented&&c.handleItemKeyDown(t,u)},x=a=>t=>{var m;(m=a.onClick)==null||m.call(a,t),!t.defaultMuiPrevented&&(A.handleExpansion(t),A.handleSelection(t))},w=a=>t=>{var m;(m=a.onMouseDown)==null||m.call(a,t),!t.defaultMuiPrevented&&(t.shiftKey||t.ctrlKey||t.metaKey||C.disabled)&&t.preventDefault()};return{getRootProps:(a={})=>{const t=p({},j(e),j(a));let m;return i?m=C.selected:C.selected&&(m=!0),p({},t,{ref:d,role:"treeitem",tabIndex:c.canItemBeTabbed(u)?0:-1,id:B,"aria-expanded":C.expandable?C.expanded:void 0,"aria-selected":m,"aria-disabled":C.disabled||void 0},a,{onFocus:n(t),onBlur:I(t),onKeyDown:r(t)})},getContentProps:(a={})=>{const t=p({},j(e),j(a));return p({},t,a,{ref:R,onClick:x(t),onMouseDown:w(t),status:C})},getGroupTransitionProps:(a={})=>{const t=p({},j(e),j(a));return p({},t,{unmountOnExit:!0,component:"ul",role:"group",in:C.expanded,children:b},a)},getIconContainerProps:(a={})=>{const t=p({},j(e),j(a));return p({},t,a)},getLabelProps:(a={})=>{const t=p({},j(e),j(a));return p({},t,{children:l},a)},rootRef:d,status:C,publicAPI:T}};function De(e){const{slots:s,slotProps:i,status:g}=e,c=$(),T=p({},c.icons.slots,{expandIcon:c.icons.slots.expandIcon??ve,collapseIcon:c.icons.slots.collapseIcon??he}),y=c.icons.slotProps;let u;s!=null&&s.icon?u="icon":g.expandable?g.expanded?u="collapseIcon":u="expandIcon":u="endIcon";const l=(s==null?void 0:s[u])??T[u],b=E({elementType:l,externalSlotProps:f=>p({},U(y[u],f),U(i==null?void 0:i[u],f)),ownerState:{}});return l?o.jsx(l,p({},b)):null}const Ge=["id","itemId","label","disabled","children","slots","slotProps"],Le=F("li",{name:"MuiTreeItem2",slot:"Root",overridesResolver:(e,s)=>s.root})({listStyle:"none",margin:0,padding:0,outline:0}),ze=F("div",{name:"MuiTreeItem2",slot:"Content",overridesResolver:(e,s)=>s.content,shouldForwardProp:e=>Pe(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`& .${we.groupTransition}`]:{margin:0,padding:0,paddingLeft:12},variants:[{props:({status:s})=>s.disabled,style:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"}},{props:({status:s})=>s.focused,style:{backgroundColor:(e.vars||e).palette.action.focus}},{props:({status:s})=>s.selected,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:K(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:K(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:K(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},{props:({status:s})=>s.selected&&s.focused,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:K(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}]})),$e=F("div",{name:"MuiTreeItem2",slot:"Label",overridesResolver:(e,s)=>s.label})(({theme:e})=>p({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)),Ne=F("div",{name:"MuiTreeItem2",slot:"IconContainer",overridesResolver:(e,s)=>s.iconContainer})({width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),ke=F(ue,{name:"MuiTreeItem2GroupTransition",slot:"GroupTransition",overridesResolver:(e,s)=>s.groupTransition})({margin:0,padding:0,paddingLeft:12}),Ve=e=>{const{classes:s}=e;return je({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],groupTransition:["groupTransition"]},Re,s)},M=h.forwardRef(function(s,i){const g=Ce({props:s,name:"MuiTreeItem2"}),{id:c,itemId:T,label:y,disabled:u,children:l,slots:b={},slotProps:f={}}=g,O=Ie(g,Ge),{getRootProps:R,getContentProps:A,getIconContainerProps:C,getLabelProps:B,getGroupTransitionProps:d,status:n}=Ke({id:c,itemId:T,children:l,label:y,disabled:u}),I=p({},g,n),r=Ve(I),x=b.root??Le,w=E({elementType:x,getSlotProps:R,externalForwardedProps:O,externalSlotProps:f.root,additionalProps:{ref:i},ownerState:{},className:r.root}),P=b.content??ze,N=E({elementType:P,getSlotProps:A,externalSlotProps:f.content,ownerState:{},className:Te(r.content,n.expanded&&r.expanded,n.selected&&r.selected,n.focused&&r.focused,n.disabled&&r.disabled)}),L=b.iconContainer??Ne,k=E({elementType:L,getSlotProps:C,externalSlotProps:f.iconContainer,ownerState:{},className:r.iconContainer}),z=b.label??$e,a=E({elementType:z,getSlotProps:B,externalSlotProps:f.label,ownerState:{},className:r.label}),t=b.groupTransition??void 0,m=E({elementType:t,getSlotProps:d,externalSlotProps:f.groupTransition,ownerState:{},className:r.groupTransition});return o.jsx(Se,{itemId:T,children:o.jsxs(x,p({},w,{children:[o.jsxs(P,p({},N,{children:[o.jsx(L,p({},k,{children:o.jsx(De,{status:n,slots:b,slotProps:f})})),o.jsx(z,p({},a))]})),l&&o.jsx(ke,p({as:t},m))]}))})}),Ro=({appId:e})=>{H(),pe(e);const s=h.useMemo(()=>ee(),[]);S.debug("popupId",s);const i=oe(e),g=de(e),c=Be(e),[T,y]=h.useState(!1);h.useEffect(()=>{T&&y(!1)},[T]);const[u,l]=h.useState(!0),b=(d,n)=>o.jsx(D,{title:"Enable | Disable",children:o.jsx("span",{children:o.jsx(G,{size:"small",color:"primary",onClick:()=>{n(!d)},disabled:!0,children:d?o.jsx(re,{}):o.jsx(ie,{})})})}),f=(d,n,I,r,x,w,P)=>o.jsxs(v,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:d}),o.jsx("span",{children:I?o.jsxs(o.Fragment,{children:[b(w,P),o.jsx(D,{title:"Show | Hide",children:o.jsx("span",{children:o.jsx(G,{size:"small",color:"primary",onClick:()=>{x(!r)},disabled:!0,children:r?o.jsx(se,{}):o.jsx(ne,{})})})})]}):o.jsx(D,{title:"Implement",children:o.jsx("span",{children:o.jsx(G,{size:"small",color:"primary",onClick:()=>{y(!0),n(),l(!1)},disabled:!0,children:o.jsx(ae,{})})})})})]}),O=d=>d.computedField===void 0?d.columnLabel:d.computedField.label,R=(d,n)=>o.jsxs(v,{sx:{display:"grid",gridTemplateColumns:"25px auto",alignItems:"center",gap:"10px"},children:[o.jsx(v,{sx:{textAlign:"center","& div":{display:"flex",justifyContent:"center"}},children:d}),o.jsx("span",{children:n})]}),A=()=>o.jsx(v,{sx:{"& svg":{fontSize:"26px"}},children:o.jsx(le,{})}),C=()=>o.jsx(v,{sx:{"& svg":{fontSize:"20px"}},children:o.jsx(be,{})}),B=()=>o.jsx(v,{sx:{"& svg":{fontSize:"26px"}},children:o.jsx(ce,{})});return h.useState(!1),h.useState(""),h.useState(void 0),h.useState(void 0),o.jsxs(Y.Fragment,{children:[o.jsx(W,{disableGutters:!0,children:o.jsx(_,{children:o.jsx(Z,{variant:"popover",popupId:s,children:d=>o.jsxs(o.Fragment,{children:[o.jsxs(v,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(ge,{variant:"contained",endIcon:o.jsx(xe,{}),...q(d),onMouseDown:()=>{d.isOpen&&l(!0)},children:"List of hooks"}),o.jsx(D,{title:"Documentation",children:o.jsx(G,{onClick:()=>{window.open("https://wpdataaccess.com/docs/table-hooks/getting-started-with-hooks/","_blank")},children:o.jsx(te,{})})})]}),o.jsx(ye,{...J(d),open:d.isOpen&&u,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh"},children:o.jsx(v,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px 20px 20px 10px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:o.jsxs(Me,{children:[o.jsx(M,{itemId:"appGroup",label:R(A(),"App"),children:Ae.map(n=>{var I,r;return o.jsx(M,{itemId:"app-"+n,label:f(n,()=>{},i[n]!==void 0,((I=i[n])==null?void 0:I.visible)??!0,x=>{S.debug(x)},((r=i[n])==null?void 0:r.enabled)??!0,x=>{S.debug(x)})},"app-"+n)})},"appGroup"),o.jsx(M,{itemId:"tableGroup",label:R(C(),"Table"),children:Ee.map(n=>{var I,r;return o.jsx(M,{itemId:"table-"+n,label:f(n,()=>{},g[n]!==void 0,((I=g[n])==null?void 0:I.visible)??!0,x=>{S.debug(x)},((r=g[n])==null?void 0:r.enabled)??!0,x=>{S.debug(x)})},"table-"+n)})},"tableGroup"),o.jsxs(M,{itemId:"columnGroup",label:R(B(),"Columns"),children:[...c.map((n,I)=>o.jsx(M,{itemId:n.columnName,label:O(n),children:Oe.map(r=>{var x,w;return o.jsx(M,{itemId:"column-"+n.columnName+"-"+r,label:f(r,()=>{},n.columnCode[r]!==void 0,((x=n.columnCode[r])==null?void 0:x.visible)??!0,P=>{S.debug(P)},((w=n.columnCode[r])==null?void 0:w.enabled)??!0,P=>{S.debug(P)})},"column-"+n.columnName+"-"+r)})},n.columnName))]},"columnGroup")]})})})]})})})},"CodeBuilder"),!1,o.jsx(W,{children:o.jsx(_,{children:o.jsx(v,{sx:{"& label":{marginTop:0}},children:o.jsx(me,{})})})})]},"CodeBuilderMain")};export{Ro as default};
