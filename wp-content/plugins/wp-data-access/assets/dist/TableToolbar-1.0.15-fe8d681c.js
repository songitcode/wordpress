import{d3 as pt,l as _,r as T,j as u,d4 as mt,bz as vt,bR as bt,cN as gt,cb as ht,e as ge}from"./main-1.0.15.js";import{b as yt,u as xt}from"./TableContainer-1.0.15-0a988586.js";import{a as jt,ab as St,i as qe,v as wt,T as Oe,q as Tt,B as se,Z as Ot,am as Ct,h as _t,aE as Rt,ap as Le}from"./main-1.0.15-e2ad00f6.js";import{P as Et,b as At,a as kt}from"./index-1.0.15-1f8b4ea0.js";import{e as Ue,f as Nt,g as It}from"./index.esm-1.0.15-bb4db28d.js";import{F as Te}from"./FileSaver.min-1.0.15-94852b9c.js";import{d as Mt}from"./ActionsDml-1.0.15-409ee4a6.js";import{C as Ft}from"./settings-1.0.15-3913c57c.js";import{I as ie,T as Bt}from"./iconBase-1.0.15-5866dbfd.js";import{B as he}from"./useScreenSize-1.0.15-a1dd46fa.js";import{P as Pt,a as qt}from"./Menu-1.0.15-3ae4ddd1.js";import{R as Lt}from"./RadioGroup-1.0.15-f84d6091.js";import{F as z}from"./FormControlLabel-1.0.15-2f48df6c.js";import{R as Q}from"./Radio-1.0.15-7d52029a.js";import{F as Ut,A as Ht,T as Jt,C as Xt}from"./TextField-1.0.15-73384817.js";import"./index.esm-1.0.15-f3c7e2e0.js";import"./Close-1.0.15-8d33e66c.js";import"./MenuItem-1.0.15-cb0e11e9.js";import"./Checkbox-1.0.15-19533231.js";import"./AlertTitle-1.0.15-cc3002eb.js";import"./useSlot-1.0.15-4f7bfdbc.js";import"./DialogContent-1.0.15-e50a43f8.js";import"./InputAdornment-1.0.15-4ec316af.js";import"./ListItemIcon-1.0.15-b73952ad.js";import"./DateTimePicker-1.0.15-b600d307.js";import"./useMobilePicker-1.0.15-5df19a3e.js";import"./Tabs-1.0.15-c2b715a3.js";import"./date-time-utils-1.0.15-31b6fdea.js";import"./dateViewRenderers-1.0.15-2bbfacab.js";import"./TimePicker-1.0.15-1545716b.js";import"./DatePicker-1.0.15-cd97ffeb.js";import"./ScopeEnum-1.0.15-32d3ffad.js";import"./useStoreTable-1.0.15-ce8ace5b.js";import"./index.esm-1.0.15-3dc3cbe3.js";import"./index-1.0.15-3f6c5bf6.js";var Gt={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},$t=`\r
`,Kt="\uFEFF",Ce=n=>Object.assign({},Gt,n);class Vt extends Error{constructor(a){super(a),this.name="CsvGenerationError"}}class Wt extends Error{constructor(a){super(a),this.name="EmptyHeadersError"}}class Yt extends Error{constructor(a){super(a),this.name="CsvDownloadEnvironmentError"}}var ae=n=>n,I=n=>n,ye=ae,Z=ae,He=ae,Je=ae,zt=function(n,a){return a=='"'&&n.indexOf('"')>-1?n.replace(/"/g,'""'):n},Qt=n=>He(typeof n=="object"?n.key:n),Zt=n=>Je(typeof n=="object"?n.displayLabel:n),Dt=(n,...a)=>a.reduce((s,f)=>f(s),n),er=n=>a=>n.useBom?ye(I(a)+Kt):a,tr=n=>a=>n.showTitle?_e(ye(I(a)+n.title))(Z("")):a,_e=n=>a=>ye(I(n)+I(a)+$t),Ge=n=>(a,s)=>rr(n)(Z(a+s)),rr=n=>a=>ae(I(a)+n.fieldSeparator),nr=(n,a)=>s=>{if(!n.showColumnHeaders)return s;if(a.length<1)throw new Wt("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let f=Z("");for(let h=0;h<a.length;h++){const c=Zt(a[h]);f=Ge(n)(f,$e(n,c))}return f=Z(I(f).slice(0,-1)),_e(s)(f)},or=(n,a,s)=>f=>{let h=f;for(var c=0;c<s.length;c++){let x=Z("");for(let p=0;p<a.length;p++){const M=Qt(a[p]),$=typeof s[c][I(M)]>"u"?n.replaceUndefinedWith:s[c][I(M)];x=Ge(n)(x,$e(n,$))}x=Z(I(x).slice(0,-1)),h=_e(h)(x)}return h},Xe=n=>+n===n&&(!isFinite(n)||!!(n%1)),$e=(n,a)=>{if(n.decimalSeparator==="locale"&&Xe(a))return a.toLocaleString();if(n.decimalSeparator!=="."&&Xe(a))return a.toString().replace(".",n.decimalSeparator);if(typeof a=="string"){let s=a;return(n.quoteStrings||n.fieldSeparator&&a.indexOf(n.fieldSeparator)>-1||n.quoteCharacter&&a.indexOf(n.quoteCharacter)>-1||a.indexOf(`
`)>-1||a.indexOf("\r")>-1)&&(s=n.quoteCharacter+zt(a,n.quoteCharacter)+n.quoteCharacter),s}if(typeof a=="boolean"&&n.boolDisplay){const s=a?"true":"false";return n.boolDisplay[s]}return a},sr=n=>a=>{const s=Ce(n),f=s.useKeysAsHeaders?Object.keys(a[0]):s.columnHeaders;let h=Dt(ye(""),er(s),tr(s),nr(s,f),or(s,f,a));if(I(h).length<1)throw new Vt("Output is empty. Is your data formatted correctly?");return h},ir=n=>a=>{if(!window)throw new Yt("Downloading only supported in a browser environment.");const s=Ce(n),f=I(a),h=s.useTextFile?"plain":"csv",c=s.useTextFile?"txt":"csv";let x=new Blob([f],{type:`text/${h};charset=utf8;`}),p=document.createElement("a");p.download=`${s.filename}.${c}`,p.href=URL.createObjectURL(x),p.setAttribute("visibility","hidden"),document.body.appendChild(p),p.click(),document.body.removeChild(p)},Ke={};(function(n){(function(a,s){s(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:pt,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.toXML=void 0;function s(o){return c(o)||h(o)||q(o)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function c(o){if(Array.isArray(o))return L(o)}function x(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);e&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable})),t.push.apply(t,d)}return t}function p(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x(Object(t),!0).forEach(function(d){M(o,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(t,d))})}return o}function M(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function $(o,e){return v(o)||le(o,e)||q(o,e)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(o,e){if(o){if(typeof o=="string")return L(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(o,e)}}function L(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,d=new Array(e);t<e;t++)d[t]=o[t];return d}function le(o,e){var t=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var d=[],b=!0,j=!1,S,w;try{for(t=t.call(o);!(b=(S=t.next()).done)&&(d.push(S.value),!(e&&d.length===e));b=!0);}catch(A){j=!0,w=A}finally{try{!b&&t.return!=null&&t.return()}finally{if(j)throw w}}return d}}function v(o){if(Array.isArray(o))return o}function k(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(t){return typeof t}:k=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(o)}var y={ARRAY:"array",BOOLEAN:"boolean",DATE:"date",FUNCTION:"function",JSTOXML_OBJECT:"jstoxml-object",NULL:"null",NUMBER:"number",OBJECT:"object",STRING:"string"},ue=[y.STRING,y.NUMBER,y.BOOLEAN],xe='<?xml version="1.0" encoding="UTF-8"?>',E=["_selfCloseTag","_attrs"],U=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.repeat(t)},N=function(e){return Array.isArray(e)&&y.ARRAY||k(e)===y.OBJECT&&e!==null&&e._name&&y.JSTOXML_OBJECT||e instanceof Date&&y.DATE||e===null&&y.NULL||k(e)},F=function(e){return e.startsWith("<![CDATA[")},ce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,b=e;if(k(e)===y.STRING){if(F(e))return e;var j=new RegExp("(".concat(Object.keys(t).join("|"),")(?!(\\w|#)*;)"),"g");b=String(e).replace(j,function(S,w){return t[w]||""})}return typeof d=="function"?d(b):b},de=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,b=arguments.length>3?arguments[3]:void 0,j=Array.isArray(e)?e:Object.entries(e).map(function(S){var w=$(S,2),A=w[0],P=w[1];return M({},A,P)});return j.reduce(function(S,w){var A=Object.keys(w)[0],P=w[A];if(k(d)===y.FUNCTION){var V=d(A,P);if(V)return S}var H=t?ce(P,t):P,ee=!b&&H===!0?"":'="'.concat(H,'"');return S.push("".concat(A).concat(ee)),S},[])},D=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,b=arguments.length>3?arguments[3]:void 0,j=de(e,t,d,b);if(j.length===0)return"";var S=j.join(" ");return" ".concat(S)},X=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).map(function(t){return{_name:t,_content:e[t]}})},K=function(e){return ue.includes(N(e))},fe=function(e){return!e.match("<")},O=function(e){var t=e.header,d=e.isOutputStart,b=t&&d;if(!b)return"";var j=k(t)===y.BOOLEAN;return j?xe:t},pe={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},B=function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=t.depth,b=d===void 0?0:d,j=t.indent,S=t._isFirstItem,w=t._isOutputStart,A=w===void 0?!0:w,P=t.header,V=t.attributeReplacements,H=V===void 0?{}:V,ee=t.attributeFilter,ve=t.attributeExplicitTrue,te=ve===void 0?!1:ve,l=t.contentReplacements,r=l===void 0?{}:l,i=t.contentMap,m=t.selfCloseTags,g=m===void 0?!0:m,G=typeof H=="boolean"&&!H,Ve=G?{}:p(p({},pe),H),We=typeof r=="boolean"&&!r,Ye=We?{}:p(p({},pe),r),Re=typeof j=="string",je=U(j,b),ze=N(e),Ee=O({header:P,indent:j,depth:b,isOutputStart:A}),be=A&&!Ee&&S&&b===0,Ae=Re&&!be?`
`:"",J="";switch(ze){case y.JSTOXML_OBJECT:{var W=e._name,Y=e._content;if(Y===null&&typeof i!="function"){J="".concat(Ae).concat(je).concat(W);break}var Qe=Array.isArray(Y)&&Y.every(K);if(Qe){var Ze=Y.map(function(C){return o({_name:W,_content:C},p(p({},t),{},{depth:b,_isOutputStart:!1}))});return Ze.join("")}if(E.includes(W))break;var re=o(Y,p(p({},t),{},{depth:b+1,_isOutputStart:be})),De=N(re),et=fe(re),tt=F(re),ke="".concat(Ae).concat(je);if(W==="_comment"){J+="".concat(ke,"<!-- ").concat(Y," -->");break}var Ne=De==="undefined"||re==="",rt=g,Ie=e._selfCloseTag,Me=k(Ie)===y.BOOLEAN?Ne&&Ie:Ne&&rt,nt=Me?"/":"",ot=D(e._attrs,Ve,ee,te),st="<".concat(W).concat(ot).concat(nt,">"),it=Re&&!et&&!tt?`
`.concat(je):"",at=Me?"":"".concat(re).concat(it,"</").concat(W,">");J+="".concat(ke).concat(st).concat(at);break}case y.OBJECT:{var Fe=Object.keys(e),lt=Fe.map(function(C,ne){var Se=p(p({},t),{},{_isFirstItem:ne===0,_isLastItem:ne+1===Fe.length,_isOutputStart:be}),oe={_name:C};if(N(e[C])===y.OBJECT){E.forEach(function(we){var Pe=e[C][we];typeof Pe<"u"&&(oe[we]=Pe,delete e[C][we])});var dt=typeof e[C]._content<"u";if(dt&&Object.keys(e[C]).length>1){var Be=Object.assign({},e[C]);delete Be._content,oe._content=[].concat(s(X(Be)),[e[C]._content])}}typeof oe._content>"u"&&(oe._content=e[C]);var ft=o(oe,Se);return ft},t);J=lt.join("");break}case y.FUNCTION:{var ut=e(t);J=o(ut,t);break}case y.ARRAY:{var ct=e.map(function(C,ne){var Se=p(p({},t),{},{_isFirstItem:ne===0,_isLastItem:ne+1===e.length,_isOutputStart:be});return o(C,Se)});J=ct.join("");break}default:{J=ce(e,Ye,i);break}}return"".concat(Ee).concat(J)};a.toXML=B;var me={toXML:B};a.default=me})})(Ke);const ar=({table:n,appId:a,metaData:s,bulkActions:f,tableStore:h,appLanguage:c,refetch:x,componentWidth:p})=>{_.debug(a,s,f);const M=jt(),$=h.table,R=h.columns;St(a);const q=qe("(max-width:900px)"),L=qe("(max-width:600px)");T.useState("landscape"),T.useState("striped");let le="csv";f.select!==void 0&&(le="select");const[v,k]=T.useState(le),[y,ue]=T.useState(!1),xe=T.useMemo(()=>wt(),[]),E=yt(a),U=T.useMemo(()=>{const l={};return R.filter(r=>r.lookup!==void 0&&E!==void 0&&E[r.columnName]!==void 0).map(r=>{var i;if(E!==void 0&&E[r.columnName]!==void 0){const m=[];for(const g in E[r.columnName]){const G={key:g,value:Array.isArray(E[r.columnName][g])?E[r.columnName][g].join((i=r.lookup)==null?void 0:i.delimiter):E[r.columnName][g]};m.push(G)}l[r.columnName]=m}}),l},[E,R]);_.debug("lookupColumns",U);const N=T.useMemo(()=>{const l={};return R.filter(r=>r.computedField!==void 0).map(r=>{l[r.columnName]=r.computedField}),l},[R]);_.debug(N);const F=T.useMemo(()=>{const l={};return R.map(r=>{N[r.columnName]?l[r.columnName]=N[r.columnName].label:l[r.columnName]=r.columnLabel}),l},[N,R]);_.debug(F);const ce=(l,r)=>{if(U!==void 0&&U[l]!==void 0){const i=U[l].filter(m=>m.key===r);if(Array.isArray(i)&&i.length===1)return i[0].value}return r},de=()=>s.src.app_id?"ppBulkAction-"+s.src.app_id+"-"+s.src.cnt_id:s.src.dbs?"ppBulkAction-"+s.src.dbs+"-"+s.src.tbl:null,D=n.getAllColumns(),X=n.getSelectedRowModel().rows,K=T.useMemo(()=>D.filter(l=>l.id!=="mrt-row-actions"&&l.id!=="mrt-row-select"&&l.id!=="mrt-row-expand").map(l=>l.id),[]);_.debug(K);const fe=T.useMemo(()=>{const l=de();if(l!==null){const r=localStorage.getItem(l);if(r!==null)return JSON.parse(r)}return K},[K]);_.debug(fe);const[O,pe]=T.useState(fe);_.debug(O);const B=X.map(l=>{const r={};return D.map(i=>{i.id!=="mrt-row-actions"&&i.id!=="mrt-row-select"&&i.id!=="mrt-row-expand"&&(U!==void 0&&U[i.id]!==void 0?r[F[i.id]]=ce(i.id,l.getValue(i.id)):N[i.id]||(r[F[i.id]]=l.getValue(i.id)))}),r});_.debug(B);const me=X.map(l=>{const r={};return D.map(i=>{i.id!=="mrt-row-actions"&&i.id!=="mrt-row-select"&&i.id!=="mrt-row-expand"&&N[i.id]===void 0&&(r[i.id]=l.getValue(i.id))}),r});_.debug(me);const o=()=>{var l,r;return(s==null?void 0:s.src)===void 0?a:s.src.app_id&&((r=(l=s==null?void 0:s.app)==null?void 0:l.app[0])==null?void 0:r.app_title)!==""?s.app.app[0].app_title:s.src.dbs?s.src.tbl:a},e=Ce({filename:o(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),t=l=>{const r={};if(s.primary_key&&Array.isArray(s.primary_key))for(let i=0;i<s.primary_key.length;i++){const m=s.primary_key[i];r[m]=l[m]}return r},d=l=>{var r,i,m;for(let g=0;g<((r=s==null?void 0:s.columns)==null?void 0:r.length);g++)if(((i=s==null?void 0:s.columns[g])==null?void 0:i.column_name)===l)return(m=s==null?void 0:s.columns[g])==null?void 0:m.data_type;return"varchar"},b=()=>B.map(l=>{const r={};for(let i=0;i<O.length;i++)r[F[O[i]]]=l[F[O[i]]];return r}),j=async()=>{},S=()=>{const l=sr(e)(b());ir(e)(l)},w=()=>{Te(new Blob([JSON.stringify(b())],{type:"text/json;charset=utf-8"}),o()+".json")};T.useRef();const A=()=>{const l=X.map(i=>{const m={};for(let g=0;g<O.length;g++)m[O[g]]=i.original[O[g]];return{row:m}}),r=Ke.toXML({table:l});Te(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".xml")},P=()=>{const l=gt(a);_.debug(l);let r="insert into "+l.tbl+" (";for(const i in B[0])r+=i+",";r=r.slice(0,-1)+") values ";for(let i=0;i<B.length;i++){const m=B[i];r+="(";for(const g in m){const G=ht(d(g));m[g]===null?r+="null,":G==="number"?r+=m[g]+",":r+="'"+m[g]+"',"}r=r.slice(0,-1),r+="),"}r=r.slice(0,-1)+";",Te(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".sql")},V=()=>{for(let l=0;l<B.length;l++){const r=t(me[l]);Mt(a,r,i=>{if(i!=null&&i.code&&(i!=null&&i.message))switch(i.code){case"ok":ge(c.deletedSuccessful,{variant:"success"}),x();break;default:_.error(i),ge(i.message??c.invalidResponse,{variant:"error"})}else _.error(i),ge(c.invalidResponse,{variant:"error"})},i=>{_.error("error",i),ge(i??c.invalidResponse,{variant:"error"})})}n.setRowSelection({})},H=()=>null,ee=()=>null;T.useState(0),T.useState(0);const[ve,te]=T.useState(!1);return u.jsxs(u.Fragment,{children:[u.jsx(Et,{variant:"popover",popupId:xe,children:l=>{var r;return u.jsxs(u.Fragment,{children:[p<600?u.jsx(Oe,{title:c.bulkActions,children:u.jsx(ie,{children:u.jsx(Ue,{})})}):u.jsx(he,{variant:"contained",endIcon:u.jsx(Ue,{}),...At(l),children:c.bulkActions}),h.state.relTab===!0&&u.jsx(he,{variant:"contained",startIcon:u.jsx(Tt,{}),sx:{marginLeft:"10px"},onClick:()=>{M(mt({appId:a}))},children:c.back}),u.jsx(Pt,{...kt(l),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:u.jsxs(se,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[X.length===0&&u.jsx(Bt,{sx:{textAlign:"center",marginTop:"10px"},children:c.noRowsSelected}),u.jsxs(Lt,{value:v,onChange:(i,m)=>{k(m),i.stopPropagation()},children:[H(),f.csv&&u.jsx(z,{value:"csv",label:c.exportToCsv,control:u.jsx(Q,{})}),f.json&&u.jsx(z,{value:"json",label:c.exportToJson,control:u.jsx(Q,{})}),ee(),f.xml&&u.jsx(z,{value:"xml",label:c.exportToXml,control:u.jsx(Q,{})}),f.sql&&!vt(a)&&u.jsx(z,{value:"sql",label:c.exportToSql,control:u.jsx(Q,{})}),((r=s==null?void 0:s.privs)==null?void 0:r.delete)&&!bt(s)&&(f==null?void 0:f.delete)===!0&&$.transactions.delete&&u.jsx(z,{value:"delete",label:c.deletePermanently,control:u.jsx(Q,{})}),(f.select??!1)&&u.jsx(z,{value:"select",label:c.addSelectedRow,control:u.jsx(Q,{})})]}),u.jsxs(se,{sx:{display:"grid",gridTemplateColumns:v==="pdf"||v==="csv"||v==="json"||v==="excel"||v==="xml"?"1fr auto":"1fr",gap:"10px"},children:[u.jsx(he,{variant:"contained",onClick:()=>{if(v==="pdf"||v==="csv"||v==="json"||v==="excel"||v==="xml"){const i=de();i!==null&&localStorage.setItem(i,JSON.stringify(O))}switch(v){case"pdf":j();break;case"csv":S();break;case"json":w();break;case"excel":break;case"xml":A();break;case"sql":P();break;case"delete":ue(!0);break}},disabled:X.length===0||(v==="pdf"||v==="csv"||v==="json"||v==="excel"||v==="xml")&&(O==null?void 0:O.length)===0,children:c.apply}),(v==="pdf"||v==="csv"||v==="json"||v==="excel"||v==="xml")&&u.jsx(ie,{onClick:()=>{te(!0)},children:u.jsx(Ot,{})})]})]})})]})}}),u.jsx(Ft,{title:c.deleteRowsTitle,message:c.deleteRowsMessage,open:y,setOpen:ue,onConfirm:()=>{V()},theme:Ct}),u.jsx(qt,{open:ve,onClose:()=>{te(!1)},children:u.jsxs(se,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:L?"80vw":q?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[u.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[u.jsx("h3",{children:c.selectFromList}),u.jsx(ie,{onClick:()=>{te(!1)},children:u.jsx(_t,{})})]}),u.jsx(Ut,{fullWidth:!0,children:u.jsx(Ht,{multiple:!0,options:K,value:O,disableCloseOnSelect:!0,getOptionLabel:l=>F[l],onChange:(l,r)=>{pe(r),l.stopPropagation()},renderInput:l=>u.jsx(Jt,{...l}),renderTags:(l,r)=>l.map((i,m)=>{const{key:g,...G}=r({index:m});return u.jsx(Xt,{variant:"outlined",label:i,...G},g)})})})]})})]})},Xr=({table:n,metaData:a,appId:s,bulkActions:f,hasBulkActions:h,tableStore:c,appLanguage:x,refetch:p,showForm:M,appSettings:$,componentWidth:R})=>{var L;const q=c.table;return xt(s),u.jsxs(se,{sx:{display:"flex",flexWrap:"nowrap",gap:R<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[u.jsx(Oe,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:u.jsx(ie,{onClick:()=>p(),children:u.jsx(Rt,{})})}),((L=q==null?void 0:q.transactions)==null?void 0:L.insert)&&u.jsx(u.Fragment,{children:R<600?u.jsx(Oe,{title:x.newRow,children:u.jsx(ie,{onClick:()=>{M(null,Le.INSERT)},children:u.jsx(Nt,{})})}):u.jsx(he,{variant:"contained",startIcon:u.jsx(It,{}),onClick:()=>{M(null,Le.INSERT)},children:x.newRow})}),h&&u.jsx(ar,{table:n,appId:s,metaData:a,bulkActions:f,tableStore:c,appLanguage:x,refetch:p,componentWidth:R}),!1]})};export{Xr as default};
